<!-- <%@ page language="java" import="java.util.*" pageEncoding="UTF-8"%>
      <%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
      <c:set var="ctx" value="${pageContext.request.contextPath}" /> -->
<!-- ----------------------开发：张亚杰 20180319----------------------- -->
<!-- ----------------------修改：张亚杰 20180327----------------------- -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>燃料供应-计划分析</title>
  <link rel="stylesheet" href="css/font-awesome.css">
  <link rel="stylesheet" href="css/rl_jmfx_z_yfx.css">
</head>

<body>
  <div class="content active" id="yfx">
    <div class="top">
      <div class="tl" id="lineBar1"></div>
      <div class="tr">
        <table>
            <tr>
                <td colspan="2">计划热值</td>
                <td colspan="2" id="jhrz">907.13</td>
                <td></td>
                <td></td>
              </tr>
          <tr>
            <td colspan="2">入厂热值</td>
            <td colspan="2" id="rcrz">907.13</td>
            <td></td>
            <td></td>
          </tr>
          <tr>
            <td>同比增减</td>
            <td id="rcrztb">113.91</td>
            <td id="rcrztb_icon">
              
                <i class="fa fa-arrow-circle-up"></i>
                <i class="fa fa-arrow-circle-down"></i>
            </td>
            <td>环比增减</td>
            <td id="rcrzhb">0.223</td>
            <td id="rcrzhb_icon">
              
                <i class="fa fa-arrow-circle-up"></i>
                <i class="fa fa-arrow-circle-down"></i>
            </td>
          </tr>
          <tr>
              <td colspan="2">累计入厂热值</td>
              <td colspan="2" id="ljrcrz">907.13</td>
              <td></td>
              <td></td>
            </tr>
            <tr>
              <td>同比增减</td>
              <td id="lirztb">113.91</td>
              <td id="ljrztb_icon">
                
              <i class="fa fa-arrow-circle-up"></i>
              <i class="fa fa-arrow-circle-down"></i>
              </td>
              <td>环比增减</td>
              <td id="ljrzhb">0.223</td>
              <td id="ljrzhb_icon">
                
              <i class="fa fa-arrow-circle-up"></i>
              <i class="fa fa-arrow-circle-down"></i>
              </td>
            </tr>
        </table>
      </div>
    </div>
    <div class="bottom">
      
					<ul>
              <li class="active">本月</li>
              <li>本年</li>
            </ul>
      <div class="bt">
        <div class="btl" id="lineBar2"></div>
        <div class="btr">
            <table>
               <tr>
                 <td colspan="4">-进煤热值情况</td>
               </tr>
               <tr>
                 <td></td>
                 <td>入厂热值</td>
                 <td>累计入厂热值</td>
                 <td>计划热值</td>
               </tr>
               <tr>
                 <td>当月</td>
                 <td>0.00</td>
                 <td>0.00</td>
                 <td>0.00</td>
               </tr>
               <tr>
                 <td>当月同比</td>
                 <td>0.00</td>
                 <td>0.00</td>
                 <td>0.00</td>
               </tr>
               <tr>
                 <td>当月环比</td>
                 <td>0.00</td>
                 <td>0.00</td>
                 <td>0.00</td>
               </tr>
               <tr>
                 <td>累计</td>
                 <td>0.00</td>
                 <td>0.00</td>
                 <td>0.00</td>
               </tr>
               <tr>
                 <td>累计同比</td>
                 <td>0.00</td>
                 <td>0.00</td>
                 <td>0.00</td>
               </tr>
            </table>  
        </div>
      </div>
      <div class="bb">
          <div class="bbl" id="lineBar3"></div>
          <div class="bbr">
              <table>
                  <tr>
                    <td colspan="4">-进煤热值情况</td>
                  </tr>
                  <tr>
                    <td></td>
                    <td>入厂热值</td>
                    <td>累计入厂热值</td>
                    <td>计划热值</td>
                  </tr>
                  <tr>
                    <td>当月</td>
                    <td>0.00</td>
                    <td>0.00</td>
                    <td>0.00</td>
                  </tr>
                  <tr>
                    <td>当月同比</td>
                    <td>0.00</td>
                    <td>0.00</td>
                    <td>0.00</td>
                  </tr>
                  <tr>
                    <td>当月环比</td>
                    <td>0.00</td>
                    <td>0.00</td>
                    <td>0.00</td>
                  </tr>
                  <tr>
                    <td>累计</td>
                    <td>0.00</td>
                    <td>0.00</td>
                    <td>0.00</td>
                  </tr>
                  <tr>
                    <td>累计同比</td>
                    <td>0.00</td>
                    <td>0.00</td>
                    <td>0.00</td>
                  </tr>
               </table>  
          </div>
      </div>
    </div>
  </div>
</body>

</html>
<script src="js/jquery-2.1.1.js"></script>
<script src="js/font.js"></script>
<script src="js/echarts.js"></script>
<script>

  // var GL_key = '${KEY}';
  // var GL_weburl = '${WEBURL}';
  // var GL_orgname = '${ORGNAME}';
  // var GL_orgcode = '${ORGCODE}'; //---------公司编码
  // var GL_dateInfo = parent.$("#dateYMD").val();

  var wd;
  var draw1;
  var draw2;
  var draw3;

  //-------------------窗口加载----------------------
  $(window).ready(function () {
    var W_w = $(window).width();
    var W_h = $(window).height();
    $('.content').width(W_w);
    $('.content').height(W_h);
    // $("#p_group>p").text(orgname);
    if ($(".frl .rcrz .tbzj span").text() + 0 > 0) {
      $(".frl .rcrz .tbzj i.fa-arrow-circle-up").css("display", "block")
    } else if ($(".frl .rcrz .tbzj span").text() + 0 < 0) {
      $(".frl .rcrz .tbzj i.fa-arrow-circle-down").css("display", "block")
    } else { };

    if ($(".frl .rcrz .hbzj span").text() + 0 > 0) {
      $(".frl .rcrz .hbzj i.fa-arrow-circle-up").css("display", "block")
    } else if ($(".frl .rcrz .hbzj span").text() + 0 < 0) {
      $(".frl .rcrz .hbzj i.fa-arrow-circle-down").css("display", "block")
    } else { };

    if ($(".frl .ljrcrz .tbzj span").text() + 0 > 0) {
      $(".frl .ljrcrz .tbzj i.fa-arrow-circle-up").css("display", "block")
    } else if ($(".frl .ljrcrz .tbzj span").text() + 0 < 0) {
      $(".frl .ljrcrz .tbzj i.fa-arrow-circle-down").css("display", "block")
    } else { };

    if ($(".frl .ljrcrz .hbzj span").text() + 0 > 0) {
      $(".frl .ljrcrz .hbzj i.fa-arrow-circle-up").css("display", "block")
    } else if ($(".frl .ljrcrz .hbzj span").text() + 0 < 0) {
      $(".frl .ljrcrz .hbzj i.fa-arrow-circle-down").css("display", "block")
    } else { };

    if ($(".frl .ydjh .tbzj span").text() + 0 > 0) {
      $(".frl .ydjh .tbzj i.fa-arrow-circle-up").css("display", "block")
    } else if ($(".frl .ydjh .tbzj span").text() + 0 < 0) {
      $(".frl .ydjh .tbzj i.fa-arrow-circle-down").css("display", "block")
    } else { };

    if ($(".frl .ydjh .hbzj span").text() + 0 > 0) {
      $(".frl .ydjh .hbzj i.fa-arrow-circle-up").css("display", "block")
    } else if ($(".frl .ydjh .hbzj span").text() + 0 < 0) {
      $(".frl .ydjh .hbzj i.fa-arrow-circle-down").css("display", "block")
    } else { };

    if ($(".shhl .tbzj span").text() + 0 > 0) {
      $(".shhl .tbzj i.fa-arrow-circle-up").css("display", "block")
    } else if ($(".shhl .tbzj span").text() + 0 < 0) {
      $(".shhl .tbzj i.fa-arrow-circle-down").css("display", "block")
    } else { };

    if ($(".shhl .hbzj span").text() + 0 > 0) {
      $(".shhl .hbzj i.fa-arrow-circle-up").css("display", "block")
    } else if ($(".shhl .hbzj span").text() + 0 < 0) {
      $(".shhl .hbzj i.fa-arrow-circle-down").css("display", "block")
    } else { };


    $(function () {
      // GL_dateInfo = $("#dateYMD").val();
      // var year = GL_dateInfo.substring(0, 4);
      // var month = function () {
      //   var m = GL_dateInfo.substring(5, 7);
      //   if (m < 10) {
      //     var nm = m.substring(1, 2);
      //     return nm;
      //   } else {
      //     return m;
      //   }
      // };
      // var day = function () {
      //   var d = GL_dateInfo.substring(8, 10);
      //   if (d < 10) {
      //     var nd = d.substring(1, 2);
      //     return nd;
      //   } else {
      //     return d;
      //   }
      // };
      // var newDate = year.concat(GL_dateInfo.substring(5, 7), GL_dateInfo.substring(8, 10));
      // // refreshData(orgcode,GL_dateInfo);
      // wd = $(".wd>p").text();
      // console.log(wd)
       draw1 = "lineBar1";
       draw2 = "lineBar2";
       draw3 = "lineBar3";
       drawBarLine1(lineBarData_1,  draw1);
       drawBarLine2(lineBarData_2, draw2);
       drawBarLine3(lineBarData_2,  draw3);
    })
  })

  //-------------------窗口尺寸变化------------------------
  $(window).resize(function () {
    var W_w = $(window).width();
    var W_h = $(window).height();
    $('.content').width(W_w);
    $('.content').height(W_h);
  })

  //-----------------------以下为模拟数据--------------------------------//

  var lineBarData_1 = {
    xdata: ["2017.02", "2017.02", "2017.02", "2017.02", "2017.02", "2017.02", "2017.02", "2017.02", "2017.02",
      "2017.02", "2017.02", "2017.02"
    ],
    ydata1: [4679, 4872, 4364, 4679, 4872, 4364, 4679, 4872, 4364, 4679, 4872, 4364],
    ydata2: [4279, 4372, 4064, 4279, 4372, 4064, 4279, 4372, 4064, 4279, 4372, 4064,],
    ydata3: [4079, 3372, 3864, 3979, 4372, 4164, 4079, 3872, 3964, 4179, 4672, 3964,],
  }
  var lineBarData_2 = {
    xdata: ["福建", "浙江", "上海", "海南", "辽宁", "河北"],
    ydata1: [84, 94, 86, 66, 88, 90, 74],
    ydata2: [54, 91, 81, 56, 98, 77, 66]
  }

  //-----------------------以下为第一页图表--------------------------------//

  var drawBarLine1 = function (datainfo, id) {
    var myChart = echarts.init(document.getElementById(id));
    var option = {
      title: {
        text: '趋势分析',
        x: 'center',
        y: '2%',
        textStyle: {
          fontSize: "120%",
        }
      },
      legend: {
        show: true,
        top: '10%',
        right: '3%'
      },
      tooltip: {
        trigger: 'axis',
        axisPointer: { // 坐标轴指示器，坐标轴触发有效
          type: 'line' // 默认为直线，可选为：'line' | 'shadow'
        }
      },
      grid: {
        left: '2%',
        right: '2%',
        top: '22%',
        bottom: '6%',
        containLabel: true
      },
      xAxis: {
        data: datainfo.xdata,
        axisTick: {
          show: false
        },
        axisLabel: {
          fontSize: "80%"
        }
      },
      yAxis: {
        type: 'value',
        scale: true,
        axisTick: {
          show: false
        },
        axisLabel: {
          fontSize: "80%"
        }
      },
      series: [{
        name: "入厂热值",
        type: 'bar',
        barWidth: '20%',
        data: datainfo.ydata1,
        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
          offset: 0,
          color: '#0AD267'
        }, {
          offset: 1,
          color: '#08B458'
        }]),
      }, {
        name: "累计入厂热值",
        type: 'line',
        data: datainfo.ydata2,
        symbol: 'circle',
        symbolSize: 8,
        itemStyle: {
          normal: {
            color: '#00AED3',
            lineStyle: {
              color: '#00AED3'
            }
          }
        },
      }, {
        name: "月度计划",
        type: 'line',
        data: datainfo.ydata3,
        symbol: 'circle',
        symbolSize: 8,
        itemStyle: {
          normal: {
            color: '#F0D003',
            lineStyle: {
              color: '#F0D003'
            }
          }
        },
      },]
    };
    myChart.setOption(option);
    window.addEventListener("resize", function () {
      myChart.resize();
    });
  }

  var drawBarLine2 = function (datainfo, id) {
    var myChart = echarts.init(document.getElementById(id));
    var option = {
      title: {
        text: '分析',
        x: 'center',
        y: '2%',
        textStyle: {
          fontSize: "120%",
        }
      },
      legend: {
        show: true,
        top: '10%',
        right: '3%'
      },
      tooltip: {
        trigger: 'axis',
        axisPointer: { // 坐标轴指示器，坐标轴触发有效
          type: 'line' // 默认为直线，可选为：'line' | 'shadow'
        }
      },
      grid: {
        left: '2%',
        right: '2%',
        top: '22%',
        bottom: '6%',
        containLabel: true
      },
      xAxis: {
        data: datainfo.xdata,
        axisTick: {
          show: false
        },
        axisLabel: {
          fontSize: "80%"
        }
      },
      yAxis: {
        type: 'value',
        scale: true,
        axisTick: {
          show: false
        },
        axisLabel: {
          fontSize: "80%"
        }
      },
      series: [{
        name: "入厂热值",
        type: 'bar',
        barWidth: '20%',
        data: datainfo.ydata1,
        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
          offset: 0,
          color: '#0AD267'
        }, {
          offset: 1,
          color: '#08B458'
        }]),
      }, {
        name: "累计入厂热值",
        type: 'line',
        data: datainfo.ydata2,
        symbol: 'circle',
        symbolSize: 8,
        itemStyle: {
          normal: {
            color: '#00AED3',
            lineStyle: {
              color: '#00AED3'
            }
          }
        },
      }]
    };
    myChart.setOption(option);
    window.addEventListener("resize", function () {
      myChart.resize();
    });
  }

  var drawBarLine3 = function (datainfo, id) {
    var myChart = echarts.init(document.getElementById(id));
    var option = {
      title: {
        text: '分析',
        x: 'center',
        y: '2%',
        textStyle: {
          fontSize: "120%",
        }
      },
      legend: {
        show: true,
        top: '10%',
        right: '3%'
      },
      tooltip: {
        trigger: 'axis',
        axisPointer: { // 坐标轴指示器，坐标轴触发有效
          type: 'line' // 默认为直线，可选为：'line' | 'shadow'
        }
      },
      grid: {
        left: '2%',
        right: '2%',
        top: '20%',
        bottom: '12%',
        containLabel: true
      },
      dataZoom: {
        type: 'slider',
        start: 0,
        end: 30,
      },
      calculable: true,
      xAxis: [{
        type: 'category',
        data: datainfo.xdata,
        axisTick: {
          show: false
        },
        axisLabel: {
          fontSize: "80%",
          rotate: 90
        }
      }],
      yAxis: {
        type: 'value',
        scale: true,
        axisTick: {
          show: false
        },
        axisLabel: {
          fontSize: "80%"
        }
      },
      series: [{
        name: "入厂热值",
        type: 'bar',
        barWidth: '20%',
        data: datainfo.ydata1,
        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
          offset: 0,
          color: '#0AD267'
        }, {
          offset: 1,
          color: '#08B458'
        }]),
      }, {
        name: "累计入厂热值",
        type: 'line',
        data: datainfo.ydata2,
        symbol: 'circle',
        symbolSize: 8,
        itemStyle: {
          normal: {
            color: '#00AED3',
            lineStyle: {
              color: '#00AED3'
            }
          }
        },
      }]
    };
    myChart.setOption(option);
    window.addEventListener("resize", function () {
      myChart.resize();
    });
  }

  var drawBar1 = function (datainfo, wd, id) {
    var myChart = echarts.init(document.getElementById(id));
    var option = {
      title: {
        text: wd + '趋势分析',
        x: 'center',
        y: '5%',
        textStyle: {
          fontSize: "120%",
        }
      },
      tooltip: {
        trigger: 'axis',
        axisPointer: { // 坐标轴指示器，坐标轴触发有效
          type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'
        }
      },
      grid: {
        left: '2%',
        right: '2%',
        top: '25%',
        bottom: '4%',
        containLabel: true
      },
      legend: {
        data: ['本期', '同期'],
        top: '10%',
        right: '2%'
      },
      calculable: true,
      xAxis: [{
        type: 'category',
        data: datainfo.xdata,
        axisTick: {
          show: false
        },
        axisLabel: {
          fontSize: "80%"
        }
      }],
      yAxis: [{
        type: 'value',
        scale: true,
        axisTick: {
          show: false
        },
        axisLabel: {
          fontSize: "80%"
        }
      }],
      series: [{
        type: 'bar',
        data: datainfo.ydata1,
        barWidth: '20%',
        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
          offset: 0,
          color: '#0AD267'
        }, {
          offset: 1,
          color: '#08B458'
        }]),
      }]
    };
    myChart.setOption(option);
    window.addEventListener("resize", function () {
      myChart.resize();
    });
  }

  var drawBar2 = function (datainfo, year, month, wd, id) {
    var myChart = echarts.init(document.getElementById(id));
    var option = {
      title: {
        text: year + '年' + month + '月' + '各分公司' + wd + '分析',
        x: 'center',
        y: '5%',
        textStyle: {
          fontSize: "120%",
        }
      },
      tooltip: {
        trigger: 'axis',
        axisPointer: { // 坐标轴指示器，坐标轴触发有效
          type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'
        }
      },
      grid: {
        left: '2%',
        right: '2%',
        top: '25%',
        bottom: '4%',
        containLabel: true
      },
      legend: {
        data: ['本期', '同期'],
        top: '10%',
        right: '2%'
      },
      calculable: true,
      xAxis: [{
        type: 'category',
        data: datainfo.xdata,
        axisTick: {
          show: false
        },
        axisLabel: {
          fontSize: "80%"
        }
      }],
      yAxis: [{
        type: 'value',
        scale: true,
        axisTick: {
          show: false
        },
        axisLabel: {
          fontSize: "80%"
        }
      }],
      series: [{
        type: 'bar',
        data: datainfo.ydata1,
        barWidth: '20%',
        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
          offset: 0,
          color: '#0AD267'
        }, {
          offset: 1,
          color: '#08B458'
        }]),
      }]
    };
    myChart.setOption(option);
    window.addEventListener("resize", function () {
      myChart.resize();
    });
  }

  var drawBar3 = function (datainfo, year, month, wd, id) {
    var myChart = echarts.init(document.getElementById(id));
    var option = {
      title: {
        text: year + '年' + month + '月' + '各电厂' + wd + '分析',
        x: 'center',
        y: '5%',
        textStyle: {
          fontSize: "120%",
        }
      },
      tooltip: {
        trigger: 'axis',
        axisPointer: { // 坐标轴指示器，坐标轴触发有效
          type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'
        }
      },
      grid: {
        left: '2%',
        right: '2%',
        top: '20%',
        bottom: '12%',
        containLabel: true
      },
      dataZoom: {
        type: 'slider',
        start: 0,
        end: 30,
      },
      calculable: true,
      xAxis: [{
        type: 'category',
        data: datainfo.xdata,
        axisTick: {
          show: false
        },
        axisLabel: {
          fontSize: "80%",
          rotate: 90
        }
      }],
      yAxis: [{
        type: 'value',
        scale: true,
        axisTick: {
          show: false
        },
        axisLabel: {
          fontSize: "80%"
        }
      }],
      series: [{
        type: 'bar',
        data: datainfo.ydata1,
        barWidth: '20%',
        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
          offset: 0,
          color: '#0AD267'
        }, {
          offset: 1,
          color: '#08B458'
        }]),
      }]
    };
    myChart.setOption(option);
    window.addEventListener("resize", function () {
      myChart.resize();
    });
  }
</script>